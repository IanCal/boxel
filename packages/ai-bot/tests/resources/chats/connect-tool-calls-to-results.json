[
  {
    "type": "m.room.create",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "room_version": "10",
      "creator": "@admin:localhost"
    },
    "state_key": "",
    "origin_server_ts": 1736338247627,
    "unsigned": {
      "age": 260438
    },
    "event_id": "$aUpmNo4fNVnUG-AKQDDwTgbJYOWK1dPJP4t_45C4EwU",
    "user_id": "@admin:localhost",
    "age": 260438
  },
  {
    "type": "m.room.member",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "membership": "join",
      "displayname": "admin"
    },
    "state_key": "@admin:localhost",
    "origin_server_ts": 1736338247658,
    "unsigned": {
      "age": 260407
    },
    "event_id": "$rjC4QMBw5ik2MwRJ9vmRxFL2BOJoc76MvqXHzGvGUUY",
    "user_id": "@admin:localhost",
    "age": 260407
  },
  {
    "type": "m.room.power_levels",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "users": {
        "@admin:localhost": 100
      },
      "users_default": 0,
      "events": {
        "m.room.name": 50,
        "m.room.power_levels": 100,
        "m.room.history_visibility": 100,
        "m.room.canonical_alias": 50,
        "m.room.avatar": 50,
        "m.room.tombstone": 100,
        "m.room.server_acl": 100,
        "m.room.encryption": 100
      },
      "events_default": 0,
      "state_default": 50,
      "ban": 50,
      "kick": 50,
      "redact": 50,
      "invite": 0,
      "historical": 100
    },
    "state_key": "",
    "origin_server_ts": 1736338247682,
    "unsigned": {
      "age": 260383
    },
    "event_id": "$QhnLloGN5lNRIqKiZBotQkD6N2tDmZkx9SKiU3vzb90",
    "user_id": "@admin:localhost",
    "age": 260383
  },
  {
    "type": "m.room.canonical_alias",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "alias": "#Weather%20Assistant%20-%202025-01-08T12%3A10%3A47.589%2B00%3A00%20-%20%40admin%3Alocalhost:localhost"
    },
    "state_key": "",
    "origin_server_ts": 1736338247692,
    "unsigned": {
      "age": 260373
    },
    "event_id": "$q-oQgT29wLTGtPdxxyqV5C81RuGOYkZ-4L5hwOoOzD8",
    "user_id": "@admin:localhost",
    "age": 260373
  },
  {
    "type": "m.room.join_rules",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "join_rule": "invite"
    },
    "state_key": "",
    "origin_server_ts": 1736338247693,
    "unsigned": {
      "age": 260372
    },
    "event_id": "$PvXxeP3JbcL9imGfpsSlYW29WcaK4_uum62UPl0nTW8",
    "user_id": "@admin:localhost",
    "age": 260372
  },
  {
    "type": "m.room.history_visibility",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "history_visibility": "shared"
    },
    "state_key": "",
    "origin_server_ts": 1736338247694,
    "unsigned": {
      "age": 260371
    },
    "event_id": "$vnafxevLQ4Ab8Yskv7tHBVmsKmTlpyevZxXEYnyhJzM",
    "user_id": "@admin:localhost",
    "age": 260371
  },
  {
    "type": "m.room.guest_access",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "guest_access": "can_join"
    },
    "state_key": "",
    "origin_server_ts": 1736338247695,
    "unsigned": {
      "age": 260370
    },
    "event_id": "$owaAuqPBdZGfA9E0FvWe4-pFziqxaP2wsDKlypMGZ68",
    "user_id": "@admin:localhost",
    "age": 260370
  },
  {
    "type": "m.room.name",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "name": "Weather Assistant"
    },
    "state_key": "",
    "origin_server_ts": 1736338247695,
    "unsigned": {
      "age": 260370
    },
    "event_id": "$b8synaXlbI51PCsgVCHgaYh-lXkWOW1i4D627BaMkDA",
    "user_id": "@admin:localhost",
    "age": 260370
  },
  {
    "type": "m.room.member",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "membership": "invite",
      "displayname": "aibot"
    },
    "state_key": "@aibot:localhost",
    "origin_server_ts": 1736338247792,
    "unsigned": {
      "age": 260273
    },
    "event_id": "$WrvSTUtHmvT1MS486fMJ4d_c7cO-6tXzft7Jw4Bin-A",
    "user_id": "@admin:localhost",
    "age": 260273
  },
  {
    "type": "m.room.power_levels",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "users": {
        "@admin:localhost": 100,
        "@aibot:localhost": 50
      },
      "users_default": 0,
      "events": {
        "m.room.name": 50,
        "m.room.power_levels": 100,
        "m.room.history_visibility": 100,
        "m.room.canonical_alias": 50,
        "m.room.avatar": 50,
        "m.room.tombstone": 100,
        "m.room.server_acl": 100,
        "m.room.encryption": 100
      },
      "events_default": 0,
      "state_default": 50,
      "ban": 50,
      "kick": 50,
      "redact": 50,
      "invite": 0,
      "historical": 100
    },
    "state_key": "",
    "origin_server_ts": 1736338247885,
    "unsigned": {
      "replaces_state": "$QhnLloGN5lNRIqKiZBotQkD6N2tDmZkx9SKiU3vzb90",
      "prev_content": {
        "users": {
          "@admin:localhost": 100
        },
        "users_default": 0,
        "events": {
          "m.room.name": 50,
          "m.room.power_levels": 100,
          "m.room.history_visibility": 100,
          "m.room.canonical_alias": 50,
          "m.room.avatar": 50,
          "m.room.tombstone": 100,
          "m.room.server_acl": 100,
          "m.room.encryption": 100
        },
        "events_default": 0,
        "state_default": 50,
        "ban": 50,
        "kick": 50,
        "redact": 50,
        "invite": 0,
        "historical": 100
      },
      "prev_sender": "@admin:localhost",
      "age": 260180
    },
    "event_id": "$QEmVlLfwKOyztBvgqSWg08Jc-O7WbuqA3MyvygPEpds",
    "user_id": "@admin:localhost",
    "age": 260180,
    "replaces_state": "$QhnLloGN5lNRIqKiZBotQkD6N2tDmZkx9SKiU3vzb90",
    "prev_content": {
      "users": {
        "@admin:localhost": 100
      },
      "users_default": 0,
      "events": {
        "m.room.name": 50,
        "m.room.power_levels": 100,
        "m.room.history_visibility": 100,
        "m.room.canonical_alias": 50,
        "m.room.avatar": 50,
        "m.room.tombstone": 100,
        "m.room.server_acl": 100,
        "m.room.encryption": 100
      },
      "events_default": 0,
      "state_default": 50,
      "ban": 50,
      "kick": 50,
      "redact": 50,
      "invite": 0,
      "historical": 100
    }
  },
  {
    "type": "m.room.member",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@aibot:localhost",
    "content": {
      "membership": "join",
      "displayname": "aibot"
    },
    "state_key": "@aibot:localhost",
    "origin_server_ts": 1736338247911,
    "unsigned": {
      "replaces_state": "$WrvSTUtHmvT1MS486fMJ4d_c7cO-6tXzft7Jw4Bin-A",
      "prev_content": {
        "membership": "invite",
        "displayname": "aibot"
      },
      "prev_sender": "@admin:localhost",
      "age": 260154
    },
    "event_id": "$8Dr0ingwUjNiR_XfmhsvSXdC1xGziHP79T74jwuzIO4",
    "user_id": "@aibot:localhost",
    "age": 260154,
    "replaces_state": "$WrvSTUtHmvT1MS486fMJ4d_c7cO-6tXzft7Jw4Bin-A",
    "prev_content": {
      "membership": "invite",
      "displayname": "aibot"
    }
  },
  {
    "type": "m.room.message",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "msgtype": "app.boxel.message",
      "body": "What is the weather in London?",
      "format": "org.matrix.custom.html",
      "formatted_body": "<p>What is the weather in London?</p>\n",
      "clientGeneratedId": "594ed30d-0e2e-4df9-ac0f-5bdba4fe000b",
      "data": "{\"attachedCardsEventIds\":[],\"context\":{\"tools\":[{\"type\":\"function\",\"function\":{\"name\":\"GetWeatherCommand_ja9FXDbgoTGq7XUdTizHSg\",\"description\":\"\",\"parameters\":{\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\"},\"attributes\":{\"type\":\"object\",\"properties\":{\"location\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"thumbnailURL\":{\"type\":\"string\"}}},\"relationships\":{\"type\":\"object\",\"properties\":{}}},\"required\":[\"attributes\",\"description\"]}}}],\"requireToolCall\":false}}"
    },
    "origin_server_ts": 1736338247986,
    "unsigned": {
      "age": 260079
    },
    "event_id": "$zojh2aADTJvNGf9S27kg8yzP-hq_0tQCi6yMrpGdRqw",
    "user_id": "@admin:localhost",
    "age": 260079
  },
  {
    "type": "m.room.message",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@aibot:localhost",
    "content": {
      "body": "Thinking...",
      "msgtype": "m.text",
      "formatted_body": "Thinking...",
      "format": "org.matrix.custom.html",
      "m.new_content": {
        "body": "Thinking...",
        "msgtype": "m.text",
        "formatted_body": "Thinking...",
        "format": "org.matrix.custom.html"
      }
    },
    "origin_server_ts": 1736338249888,
    "unsigned": {
      "age": 258177
    },
    "event_id": "$-rZREQE4MAzeyq2OunNS_lJPvRKT-LaWiddzyxwuMBE",
    "user_id": "@aibot:localhost",
    "age": 258177
  },
  {
    "type": "m.room.message",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@aibot:localhost",
    "content": {
      "body": "requesting current weather information for London",
      "msgtype": "app.boxel.command",
      "formatted_body": "requesting current weather information for London",
      "format": "org.matrix.custom.html",
      "data": "{\"eventId\":\"$-rZREQE4MAzeyq2OunNS_lJPvRKT-LaWiddzyxwuMBE\",\"toolCall\":{\"type\":\"function\",\"id\":\"call_j0e5qKzUwNLCDn9VnX8CHoFx\",\"name\":\"GetWeatherCommand_ja9FXDbgoTGq7XUdTizHSg\",\"arguments\":{\"description\":\"requesting current weather information for London\",\"attributes\":{\"location\":\"London\"}}}}",
      "m.relates_to": {
        "rel_type": "m.replace",
        "event_id": "$-rZREQE4MAzeyq2OunNS_lJPvRKT-LaWiddzyxwuMBE"
      }
    },
    "origin_server_ts": 1736338254237,
    "unsigned": {
      "age": 253828
    },
    "event_id": "$QZRwIJEFwgF18wkt_GMIGrxVoiWiJ14teWv-hj1bjrU",
    "user_id": "@aibot:localhost",
    "age": 253828
  },
  {
    "type": "m.room.message",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "msgtype": "app.boxel.cardFragment",
      "format": "app.boxel.card",
      "body": "card fragment 1 of 1",
      "formatted_body": "card fragment 1 of 1",
      "data": "{\"cardFragment\":\"{\\\"data\\\":{\\\"type\\\":\\\"card\\\",\\\"attributes\\\":{\\\"temperature\\\":\\\"25 C\\\",\\\"conditions\\\":\\\"Sunny\\\",\\\"title\\\":null,\\\"description\\\":null,\\\"thumbnailURL\\\":null},\\\"meta\\\":{\\\"adoptsFrom\\\":{\\\"module\\\":\\\"http://localhost:4201/admin/onnx/commandexample\\\",\\\"name\\\":\\\"WeatherReport\\\"}}}}\",\"index\":0,\"totalParts\":1}"
    },
    "origin_server_ts": 1736338254397,
    "unsigned": {
      "age": 253668
    },
    "event_id": "$PuEhMhb3_4H13Wb3ngMKTZuMB9UTC-CMUy15R1QkV7M",
    "user_id": "@admin:localhost",
    "age": 253668
  },
  {
    "type": "app.boxel.commandResult",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@admin:localhost",
    "content": {
      "msgtype": "app.boxel.commandResultWithOutput",
      "m.relates_to": {
        "event_id": "$QZRwIJEFwgF18wkt_GMIGrxVoiWiJ14teWv-hj1bjrU",
        "key": "applied",
        "rel_type": "m.annotation"
      },
      "data": "{\"cardEventId\":\"$PuEhMhb3_4H13Wb3ngMKTZuMB9UTC-CMUy15R1QkV7M\"}"
    },
    "origin_server_ts": 1736338254435,
    "unsigned": {
      "age": 253630
    },
    "event_id": "$Ht8vA_O4oQWHNMt2QDhrIAqhG2gEoWrVVysWakRhEdA",
    "user_id": "@admin:localhost",
    "age": 253630
  },
  {
    "type": "m.room.message",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@aibot:localhost",
    "content": {
      "body": "Thinking...",
      "msgtype": "m.text",
      "formatted_body": "Thinking...",
      "format": "org.matrix.custom.html",
      "m.new_content": {
        "body": "Thinking...",
        "msgtype": "m.text",
        "formatted_body": "Thinking...",
        "format": "org.matrix.custom.html"
      }
    },
    "origin_server_ts": 1736338256294,
    "unsigned": {
      "age": 251771
    },
    "event_id": "$Z7VbrzFx5Y7kthX21N1cCZUfFYQ8Hw9s75t49M2Rvio",
    "user_id": "@aibot:localhost",
    "age": 251771
  },
  {
    "type": "m.room.name",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@aibot:localhost",
    "content": {
      "name": "Weather Inquiry for London Conditions"
    },
    "state_key": "",
    "origin_server_ts": 1736338257296,
    "unsigned": {
      "replaces_state": "$b8synaXlbI51PCsgVCHgaYh-lXkWOW1i4D627BaMkDA",
      "prev_content": {
        "name": "Weather Assistant"
      },
      "prev_sender": "@admin:localhost",
      "age": 250769
    },
    "event_id": "$JTMbcNHCdyKKkvMO963In-uWaI16F2KkZJbuYrxITl0",
    "user_id": "@aibot:localhost",
    "age": 250769,
    "replaces_state": "$b8synaXlbI51PCsgVCHgaYh-lXkWOW1i4D627BaMkDA",
    "prev_content": {
      "name": "Weather Assistant"
    }
  },
  {
    "type": "m.room.message",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@aibot:localhost",
    "content": {
      "body": "I'm",
      "msgtype": "m.text",
      "formatted_body": "I'm",
      "format": "org.matrix.custom.html",
      "m.new_content": {
        "body": "I'm",
        "msgtype": "m.text",
        "formatted_body": "I'm",
        "format": "org.matrix.custom.html"
      },
      "isStreamingFinished": false,
      "m.relates_to": {
        "rel_type": "m.replace",
        "event_id": "$Z7VbrzFx5Y7kthX21N1cCZUfFYQ8Hw9s75t49M2Rvio"
      }
    },
    "origin_server_ts": 1736338260349,
    "unsigned": {
      "age": 247716
    },
    "event_id": "$HQotXSwL34PjcCooNrlDelvkk0nwi2f6Icm7qiIOkXc",
    "user_id": "@aibot:localhost",
    "age": 247716
  },
  {
    "type": "m.room.message",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@aibot:localhost",
    "content": {
      "body": "I'm retrieving the current weather information for London.",
      "msgtype": "m.text",
      "formatted_body": "I'm retrieving the current weather information for London.",
      "format": "org.matrix.custom.html",
      "m.new_content": {
        "body": "I'm retrieving the current weather information for London.",
        "msgtype": "m.text",
        "formatted_body": "I'm retrieving the current weather information for London.",
        "format": "org.matrix.custom.html"
      },
      "isStreamingFinished": false,
      "m.relates_to": {
        "rel_type": "m.replace",
        "event_id": "$Z7VbrzFx5Y7kthX21N1cCZUfFYQ8Hw9s75t49M2Rvio"
      }
    },
    "origin_server_ts": 1736338260605,
    "unsigned": {
      "age": 247460
    },
    "event_id": "$H5HP9NCevS0b7Nk5JzTMMhxn5lHJ-EYcoRdOPH1p8c4",
    "user_id": "@aibot:localhost",
    "age": 247460
  },
  {
    "type": "m.room.message",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@aibot:localhost",
    "content": {
      "body": "I'm retrieving the current weather information for London. Please hold",
      "msgtype": "m.text",
      "formatted_body": "I'm retrieving the current weather information for London. Please hold",
      "format": "org.matrix.custom.html",
      "m.new_content": {
        "body": "I'm retrieving the current weather information for London. Please hold",
        "msgtype": "m.text",
        "formatted_body": "I'm retrieving the current weather information for London. Please hold",
        "format": "org.matrix.custom.html"
      },
      "isStreamingFinished": false,
      "m.relates_to": {
        "rel_type": "m.replace",
        "event_id": "$Z7VbrzFx5Y7kthX21N1cCZUfFYQ8Hw9s75t49M2Rvio"
      }
    },
    "origin_server_ts": 1736338261400,
    "unsigned": {
      "age": 246665
    },
    "event_id": "$fSLbMvOdDD8EG-5mhDB82kMG6IP7t6iuqnMwoxw-38k",
    "user_id": "@aibot:localhost",
    "age": 246665
  },
  {
    "type": "m.room.message",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@aibot:localhost",
    "content": {
      "body": "I'm retrieving the current weather information for London. Please hold on",
      "msgtype": "m.text",
      "formatted_body": "I'm retrieving the current weather information for London. Please hold on",
      "format": "org.matrix.custom.html",
      "m.new_content": {
        "body": "I'm retrieving the current weather information for London. Please hold on",
        "msgtype": "m.text",
        "formatted_body": "I'm retrieving the current weather information for London. Please hold on",
        "format": "org.matrix.custom.html"
      },
      "isStreamingFinished": false,
      "m.relates_to": {
        "rel_type": "m.replace",
        "event_id": "$Z7VbrzFx5Y7kthX21N1cCZUfFYQ8Hw9s75t49M2Rvio"
      }
    },
    "origin_server_ts": 1736338261434,
    "unsigned": {
      "age": 246631
    },
    "event_id": "$5u9SViPj1o2Mme-s9ykm2DNeoMrTCj9B9DAJ3RPgAyo",
    "user_id": "@aibot:localhost",
    "age": 246631
  },
  {
    "type": "m.room.message",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@aibot:localhost",
    "content": {
      "body": "I'm retrieving the current weather information for London. Please hold on for a moment. Once I have the details, I'll provide you with an update.",
      "msgtype": "m.text",
      "formatted_body": "I'm retrieving the current weather information for London. Please hold on for a moment. Once I have the details, I'll provide you with an update.",
      "format": "org.matrix.custom.html",
      "m.new_content": {
        "body": "I'm retrieving the current weather information for London. Please hold on for a moment. Once I have the details, I'll provide you with an update.",
        "msgtype": "m.text",
        "formatted_body": "I'm retrieving the current weather information for London. Please hold on for a moment. Once I have the details, I'll provide you with an update.",
        "format": "org.matrix.custom.html"
      },
      "isStreamingFinished": true,
      "m.relates_to": {
        "rel_type": "m.replace",
        "event_id": "$Z7VbrzFx5Y7kthX21N1cCZUfFYQ8Hw9s75t49M2Rvio"
      }
    },
    "origin_server_ts": 1736338262405,
    "unsigned": {
      "age": 245660
    },
    "event_id": "$IxEoqOBa-xMRSjEWBHJ9SUyOvF8TZmg0ccyQaAjx8J0",
    "user_id": "@aibot:localhost",
    "age": 245660
  },
  {
    "type": "m.room.name",
    "room_id": "!ZQdHjRkjfIFuIiQAZW:localhost",
    "sender": "@aibot:localhost",
    "content": {
      "name": "Checking London's Current Weather Conditions"
    },
    "state_key": "",
    "origin_server_ts": 1736338264413,
    "unsigned": {
      "replaces_state": "$JTMbcNHCdyKKkvMO963In-uWaI16F2KkZJbuYrxITl0",
      "prev_content": {
        "name": "Weather Inquiry for London Conditions"
      },
      "prev_sender": "@aibot:localhost",
      "age": 243652
    },
    "event_id": "$GDkjaNXO1g-ArbixekPmQrsGhGcve40XhSHFfTM6Lkg",
    "user_id": "@aibot:localhost",
    "age": 243652,
    "replaces_state": "$JTMbcNHCdyKKkvMO963In-uWaI16F2KkZJbuYrxITl0",
    "prev_content": {
      "name": "Weather Inquiry for London Conditions"
    }
  }
]